<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Evolocity</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Mapping Intergration -->
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />

	<!-- Spotify Intergration -->
	<script src="https://sdk.scdn.co/spotify-player.js"></script>

	<!-- Color Analyzer For Images -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
	<script src="https://www.color-blindness.com/color-name-hue-tool/js/ntc.js"></script>

	<!-- Material Icons & Fonts -->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">

	<!-- Base JS & CSS -->
	<link rel="stylesheet" href="styles/index.css">
	<script src="scripts/buttonHandler.js"></script>
	<script src="scripts/spotifyHandler.js"></script>

	<!-- Android & Chrome OS support for PWA -->
	<meta name="theme-color" content="#4caf50" />
	<link rel="manifest" href="./manifest.json" crossorigin="use-credentials">

	<!-- IOS Support for PWA -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="apple-mobile-web-app-title" content="Evolocity">
	<link rel="apple-touch-icon" href="./images/icons/IOS/icon-152x152.png">

</head>

<body>
	<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.min.js">
	</script>
	<link rel="stylesheet"
		href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.css"
		type="text/css" />
	<!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
	<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>

	<div class="WindowManager" id="UI">
		<!-- Default window for driver speed and gear. -->
		<div class="SpeedWindow">
			<div class="SpeedInfomation">
				<div class="SpeedHeader">
					<h1 id="speed" class="SpeedText">0</h1>
				</div>
				<div class="SpeedGears">
					<h1 class="SpeedGearText" style="text-align: left;">P R N <span style="color: black;">D</span></h1>
					<h1 class="SpeedGearText" style="text-align: center;">KPH</h1>
					<h1 class="SpeedGearText" style="text-align: right;">90%</h1>
				</div>
				<div class="Speedometer"> </div>
			</div>

			<div class="SpeedRoad">
			</div>
		</div>

		<!-- Default window for driver hud. -->
		<div class="MapWindow">
			<div id='map' style='top: 0; width: 100%; height: 100%;'></div>
			<script>
				mapboxgl.accessToken =
					'pk.eyJ1IjoiYXN0ZXJvaWRzbWFwIiwiYSI6ImNrNDljanQ2ZjAzbWwzaXJ5bnVjOGZmZTIifQ.oZ25eWy6TThlM3-y-DhowQ';
				var map = new mapboxgl.Map({
					container: 'map',
					style: 'mapbox://styles/mapbox/light-v10'
				});

				map.addControl(
					new MapboxGeocoder({
						accessToken: mapboxgl.accessToken,
						mapboxgl: mapboxgl
					}),
					'top-left'
				);

				// Add zoom and rotation controls to the map.
				map.addControl(
					new mapboxgl.NavigationControl(), 'top-right'
				);

				const geolocate = new mapboxgl.GeolocateControl({
					positionOptions: {
						enableHighAccuracy: true
					},
					trackUserLocation: true
				});

				// Add geolocate control to the map.
				map.addControl(geolocate, 'top-right');

				map.on('load', function () {
					geolocate.trigger();
				});
			</script>
		</div>

		<!-- Window for spotify playback. -->
		<div class="SpotifyWindow" id="musicWindow">
			<img class="SpotifyImage" id="AlbumImage"></img>
			<h1 class="SpotifyTitle" id="SongText"></h1>
			<h3 class="SpotifyArtist" id="ArtistText"></h3>

			<button class="MusicNavButton" id="musicButton" onclick="openMusicWindow()"><i class="material-icons"
					id="alt"> close </i></button>
			<button class="MusicNavButton" id="musicButton"><i class="material-icons" id="alt-next"> skip_next
				</i></button>
			<button class="MusicNavButton" id="musicButton"><i class="material-icons" id="alt-play">
					play_arrow</i></button>
			<button class="MusicNavButton" id="musicButton"><i class="material-icons" id="alt-previous"> skip_previous
				</i></button>
		</div>

		<div class="SettingsWindow" id="settingWindow">
			<div class="SettingsTab">
				<button class="SettingsButton" onclick="openSettingsWindow()"><i class="material-icons settings"> close </i><h1 class="SettingsH1">Spotify</h1></button>
			</div>
			<div class="SettingsControl">
				
			</div>
			
		</div>
	</div>

	<!-- Navigation Menu for other windows. -->
	<div class="NavigationMenu">
		<button class="NavButton" onclick="openSettingsWindow()"><i class="material-icons"> build </i></button>
		<button class="NavButton" onclick="openMusicWindow()"><i class="material-icons"> library_music </i></button>
		<button class="NavButton"><i class="material-icons"> offline_bolt </i></button>
		<button class="NavButton"><i class="material-icons"> donut_large </i></button>
		<button class="NavButton"><i class="material-icons"> eco </i></button>
		<button class="NavButton"><i class="material-icons"> signal_cellular_4_bar </i></button>
		<button class="NavButton"><i class="material-icons"> volume_up </i></button>
	</div>
</body>

</html>